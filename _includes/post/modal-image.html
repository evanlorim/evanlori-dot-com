{% assign transformation = site.data.images.transformations
    | where: 'type', 'modal'
    | where: 'public_id', include.public_id
    | first
    | default: site.data.default.transformation.modal %}
{% assign src = include.public_id,
    | image_url: transformation %}

<div class="modal" id="modal-{{ include.i }}">
    <a href="#">
        <div class="modal-background"></div>
        <div class="modal-content">
            <img class="modal-img" src="{{ src }}" />
        </div>
    </a>
</div>

<style>
    #modal-{{ include.i }}:target {
        display: flex;
    }
    .modal-content:has(.modal-img) {
        width: 100vw;
        /* full viewport width */
        height: 100vh;
    }
    .modal-img {
        max-width: calc(100vw - 4rem);
        max-height: calc(100vh - 4rem);
        width: auto;
        height: auto;
        display: block;
        margin: auto;
        /* adds vertical margin too */
        object-fit: contain;
    }


</style>
